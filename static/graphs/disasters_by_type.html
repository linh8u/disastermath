<html>
<head>
	<title>Donut Chart</title>
	<link type="text/css" rel="stylesheet" href="/static/css/graphs/styles.css"/> 
    <script type="text/javascript" src="/static/js/graphs/protovis.js"></script>
	<style type="text/css">
		#figure {
			width: 400px;
			height: 400px;
		}
	</style>
</head>
<body>
	<div id="figure">
	<script type="text/javascript+protovis">
		var data = [172,136,135,101,80,68,50,29,19,41];
		var cats = ["Stats", "Design", "Business", "Cart", "Info Science", "Web Analytics", "Programming", "Engineering", "Math", "Other"];
		
		var w = 350,
		var h = 350,
		r = w / 2,
		a = pv.Scale.linear(0, pv.sum(data)).range(0,2 * Math.PI);
		
		var depthColors = pv.Scale.linear(0,172).range("white", "#821122");
		
		var vis = new pv.Panel()
		.width(w)
		.height(h)
		
		vis.add(pv.Wedge)
		.data(data)
		.bottom(w / 2)
		.left(w / 2)
		.innerRadius(r-120)
		.outerRadius(r)
		.fillStyle(function(d) depthColors(d))
		.strokeStyle("#fff")
		.angle(a)
		.title(function(d) String(d) + " votes")
		.anchor("center").add(pv.Label)
			.text(function(d) cats[this.index]);
		
		vis.anchor("center").add(pv.Label)
			.font("bold 14px Georgia")
			.text("May 2009");
		
		vis.render();
	</script>
	</div><!-- @end figure -->
	</html>
	